import{_ as r}from"./Translate.dc83ae5b.js";import{b as y,r as c,j as t,a as e,H as w,L as d,F as k,f as v}from"./app.70eb7c5f.js";import{A as N}from"./AuthenticatedLayout.37d9e013.js";import{a as h,e as S}from"./index.esm.b743b834.js";import{S as M}from"./Spinner.4065475d.js";import"./Front.5dab1473.js";import"./index.esm.dc99be0f.js";import"./iconBase.19c775b5.js";import"./index.esm.b47aa8e1.js";import"./transition.a700d2e8.js";import"./Modal.ea61d8f0.js";import"./react-toastify.esm.b9d392e3.js";import"./TextInput.9faad775.js";import"./index.esm.80e20a61.js";function D({channel:s,tier:n}){const{auth:m}=y().props,[o,x]=c.exports.useState("Monthly"),[u,a]=c.exports.useState(n.price),[p,g]=c.exports.useState(!1),l=i=>{switch(x(i),i){case"6 Months":console.log(`Setting plan to ${i} and price to ${n.SixMonthsPrice}`),a(n.SixMonthsPrice);break;case"Monthly":console.log(`Setting plan to ${i} and price to ${n.price}`),a(n.price);break;case"Yearly":console.log(`Setting plan to ${i} and price to ${n.YearlyPrice}`),a(n.YearlyPrice);break}},b=i=>{i.preventDefault(),v.Inertia.visit(route("confirm-subscription",{user:s.id,tier:n.id,plan:o}),{onBefore:f=>{g(!0)},onFinish:f=>{g(!1)}})};return t(N,{children:[e(w,{title:r("Subscribe to :channel",{channel:s.username})}),e("div",{className:"ml-0",children:t("div",{className:"p-4 sm:p-8 bg-gray-100 dark:bg-zinc-900 shadow sm:rounded-lg",children:[t("header",{children:[t("div",{className:"justify-center flex items-center space-x-2 flex-wrap",children:[e("div",{children:e(d,{href:route("channel",{user:s.username}),children:e("img",{src:s.profile_picture,alt:"",className:"rounded-full h-14 border-zinc-200 dark:border-indigo-200 border"})})}),t("div",{children:[e(d,{href:route("channel",{user:s.username}),children:e("h2",{className:"text-center text-2xl font-medium text-gray-800 dark:text-gray-100",children:r("Subscribe to @:channel",{channel:s.username})})}),e("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400 text-center",children:r("Select subscription length & payment method")})]})]}),t("div",{className:"flex flex-col md:flex-row md:justify-around items-center mt-10 space-y-5 md:space-y-0",children:[t("button",{onClick:i=>l("6 Months"),className:`relative w-52 rounded-lg p-3 shadow ${o==="6 Months"?"bg-indigo-600 text-white":"bg-white text-gray-800"}`,children:[e("div",{className:"absolute inline-flex items-center justify-center px-1.5 py-1 text-xs font-bold text-white bg-pink-500 rounded-full -top-2 right-0",children:r(":discount% OFF",{discount:n.six_months_discount})}),r("6 Months")]}),e("button",{onClick:i=>l("Monthly"),className:`w-52 rounded-lg p-3 shadow ${o==="Monthly"?"bg-indigo-600 text-white":"bg-white text-gray-800"}`,children:r("1 Month")}),t("button",{onClick:i=>l("Yearly"),className:`relative w-52 rounded-lg p-3 shadow ${o==="Yearly"?"bg-indigo-600 text-white":"bg-white text-gray-800"}`,children:[e("div",{className:"absolute inline-flex items-center justify-center px-1.5 py-1 text-xs font-bold text-white bg-pink-500 rounded-full -top-2 right-0",children:r(":discount% OFF",{discount:n.one_year_discount})}),r("1 Year")]})]})]}),t("div",{className:"border-t pt-5 text-xl text-center font-light mt-8 dark:text-white",children:[t("p",{className:"bg-white shadow text-gray-800 font-semibold inline-flex rounded-lg p-2",children:[e(h,{className:"h-6 w-6"})," ",r("Price: :price tokens",{price:u})]}),e("br",{}),t("p",{className:"mt-3 bg-white shadow text-gray-800 text-sm font-semibold inline-flex rounded-lg p-2",children:[" ",e(S,{className:"w-4 h-4"})," ",r("Your Balance: :userBalance tokens",{userBalance:m.user.tokens})]}),e("div",{className:"mt-5 border-t pt-5",children:u<=m.user.tokens?t(k,{children:[t("button",{onClick:i=>b(i),className:"py-2 px-3 mt-2 mb-3 inline-flex rounded-md items-center bg-pink-500 text-white font-semibold hover:bg-pink-600 disabled:bg-gray-300 disabled:text-gray-700",disabled:p,children:[e(h,{className:"h-6 w-6 mr-2"}),e("div",{children:r("Confirm & Subscribe")})]}),e("br",{}),p&&e("center",{children:e(M,{})})]}):t("div",{className:"text-gray-700 dark:text-white text-base",children:[r("You need to charge your token balance for this plan"),e("br",{}),t(d,{href:route("token.packages"),className:"py-1.5 px-3 mt-2 inline-flex border-2 rounded-md hover:border-gray-700 hover:text-gray-700 items-center border-indigo-600 text-indigo-600 dark:border-white dark:text-white dark:hover:border-indigo-200 dark:hover:text-indigo-200",children:[e(h,{className:"h-6 w-6 mr-2"}),e("div",{children:r("Token Packages")})]})]})})]})]})})]})}export{D as default};
