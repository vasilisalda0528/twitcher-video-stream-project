import{b as _,r as o,j as r,a as t,H as z,F as P,f as m}from"./app.70eb7c5f.js";import{_ as a}from"./Translate.dc83ae5b.js";import{S as h}from"./SecondaryButton.d42a89f3.js";import{a as I}from"./index.esm.44a5a5e5.js";import{C as H}from"./ChannelsLoop.4698f864.js";import{S as D}from"./Spinner.4065475d.js";import{F as j}from"./Front.5dab1473.js";import{T as A}from"./TextInput.9faad775.js";import{I as R}from"./index.esm.46d65d59.js";import"./iconBase.19c775b5.js";import"./index.esm.b47aa8e1.js";import"./index.esm.80e20a61.js";import"./index.esm.b743b834.js";import"./index.esm.dc99be0f.js";import"./transition.a700d2e8.js";import"./Modal.ea61d8f0.js";import"./react-toastify.esm.b9d392e3.js";function Z({channels:l,exploreImage:b}){const{categories:v}=_().props,d=o.exports.useRef(),[s,n]=o.exports.useState("Popularity"),[g,k]=o.exports.useState(""),[w,p]=o.exports.useState(!1),[u,x]=o.exports.useState([]),N=e=>{e.preventDefault(),m.Inertia.visit(route("channels.browse",{search:g,sort:s,selectedCategories:u}),{only:["channels"],preserveState:!0,onBefore:()=>p(!0),onFinish:()=>p(!1)}),f()},y=e=>{const{value:i,checked:S}=e.target;x(S?c=>[...c,i]:c=>c.filter(F=>F!==i))},C=e=>{e.preventDefault();const i="fixed inset-0 z-[9999] pt-5 px-2 overflow-scroll h-screen bg-white dark:bg-black  block w-2/3 flex-shrink-0 mr-5";d.current.className=i},f=e=>{e==null||e.preventDefault();const i="hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5";console.log(`hiding filters ${i}`),d.current.className=i};return r(j,{containerClass:"w-full",extraHeader:!0,extraHeaderTitle:a("Discover Channels"),extraHeaderImage:b,extraHeaderText:"",extraImageHeight:"h-14",children:[t(z,{title:a("Discover Channels")}),r("div",{className:"flex w-full -mt-16",children:[t("form",{onSubmit:N,children:r("div",{ref:d,className:"hidden lg:block w-56 lg:flex-shrink-0 lg:mr-5",children:[t("h3",{className:"text-indigo-700 dark:text-white text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 shadow rounded-t-lg",children:a("Search")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:t(A,{className:"w-full",name:"search",value:g,handleChange:e=>k(e.target.value),placeholder:a("Search Channel")})}),t("h3",{className:"mt-5 text-indigo-700 dark:text-white text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 shadow rounded-t-lg",children:a("Sort By")}),r("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:[r("div",{className:"flex items-center text-gray-600 dark:text-white",children:[t("input",{type:"radio",name:"sort",value:"Popularity",checked:s==="Popularity",className:"mr-2",onChange:e=>n(e.target.value)}),a("Popularity")]}),r("div",{className:"flex items-center text-gray-600 dark:text-white",children:[t("input",{type:"radio",name:"sort",value:"Recently Joined",checked:s==="Recently Joined",className:"mr-2",onChange:e=>n(e.target.value)}),a("Recently Joined")]}),r("div",{className:"flex items-center text-gray-600 dark:text-white",children:[t("input",{type:"radio",name:"sort",checked:s==="Followers",value:"Followers",className:"mr-2",onChange:e=>n(e.target.value)}),a("Followers")]}),r("div",{className:"flex items-center text-gray-600 dark:text-white",children:[t("input",{type:"radio",name:"sort",checked:s==="Alphabetically",value:"Alphabetically",className:"mr-2",onChange:e=>n(e.target.value)}),a("Alphabetically")]})]}),t("h3",{className:"mt-5 text-indigo-700 dark:text-white text-xl font-bold block p-3 bg-light-violet dark:bg-zinc-900 shadow rounded-t-lg",children:a("Category")}),t("div",{className:"bg-white dark:bg-zinc-800 rounded-b-lg shadow p-3",children:v.map(e=>r("div",{className:"flex items-center text-gray-600 dark:text-white",children:[t("input",{type:"checkbox",name:"categories[]",className:"mr-2",value:e.id,onChange:y,checked:u.includes(e.id.toString())}),e.category]},`catFilter-${e.id}`))}),w?t("div",{className:"my-3",children:t(D,{})}):t("button",{className:"mt-5 bg-indigo-500 dark:bg-zinc-800 font-semibold text-white rounded-lg px-2 py-1.5 block w-full",children:a("Apply Filters")}),t("div",{className:"lg:hidden text-center border-t dark:border-zinc-800 border-t-gray-300 py-5",children:t(h,{className:"",onClick:e=>f(e),children:a("Close")})})]})}),r("div",{className:"flex-grow",children:[r("button",{onClick:e=>C(e),className:"mb-7 px-3 -mt-1 py-1.5 bg-indigo-500 text-white rounded-lg lg:hidden flex items-center justify-end",children:[t(R,{className:"mr-1"}),a("Show Filters")]}),l.total===0&&r("div",{className:"text-xl bg-white dark:bg-zinc-900 rounded-lg shadow text-gray-600 dark:text-white font-light p-3 flex items-center",children:[t(I,{className:"w-12 h-12 mr-2"}),a("No channels to show")]}),t(H,{channels:l.data}),l.last_page>1&&r(P,{children:[t("div",{className:"flex text-gray-600 mt-10 mb-5 text-sm",children:a("Page: :pageNumber of :lastPage",{pageNumber:l.current_page,lastPage:l.last_page})}),t(h,{processing:!l.prev_page_url,className:"mr-3",onClick:e=>m.Inertia.visit(l.prev_page_url),children:a("Previous")}),t(h,{processing:!l.next_page_url,onClick:e=>m.Inertia.visit(l.next_page_url),children:a("Next")})]})]})]})]})}export{Z as default};
