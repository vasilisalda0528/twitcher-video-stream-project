import{_ as i}from"./Translate.dc83ae5b.js";import{b as h,r as p,j as r,a as e,H as u,L as s,F as x,f as g}from"./app.70eb7c5f.js";import{A as b}from"./AuthenticatedLayout.37d9e013.js";import{a as n,e as f}from"./index.esm.b743b834.js";import{S as k}from"./Spinner.4065475d.js";import"./Front.5dab1473.js";import"./index.esm.dc99be0f.js";import"./iconBase.19c775b5.js";import"./index.esm.b47aa8e1.js";import"./transition.a700d2e8.js";import"./Modal.ea61d8f0.js";import"./react-toastify.esm.b9d392e3.js";import"./TextInput.9faad775.js";import"./index.esm.80e20a61.js";function H({video:t}){const{auth:o}=h().props,[d,l]=p.exports.useState(!1),c=a=>{a.preventDefault(),g.Inertia.visit(route("video.purchase",{video:t.id}),{method:"POST",onBefore:m=>{l(!0)},onFinish:m=>{l(!1)}})};return r(b,{children:[e(u,{title:i("Unlock Video: :videoTitle",{video:t.title})}),e("div",{className:"ml-0",children:r("div",{className:"p-4 sm:p-8 bg-gray-100 dark:bg-zinc-900 shadow sm:rounded-lg",children:[e("header",{children:r("div",{className:"justify-center flex items-center space-x-2 flex-wrap",children:[e("div",{children:e(s,{href:route("channel",{user:t.streamer.username}),children:e("img",{src:t.streamer.profile_picture,alt:"",className:"rounded-full h-14 border-zinc-200 dark:border-indigo-200 border"})})}),r("div",{children:[e(s,{href:route("channel",{user:t.streamer.username}),children:e("h2",{className:"text-center text-2xl font-medium text-gray-800 dark:text-gray-100",children:i("Unlock :videoTitle",{videoTitle:t.title})})}),e("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400 text-center",children:i("Confirm your purchase")})]})]})}),r("div",{className:"border-t pt-5 text-xl text-center font-light mt-8 dark:text-white",children:[r("p",{className:"bg-white shadow text-gray-800 font-semibold inline-flex rounded-lg p-2",children:[e(n,{className:"h-6 w-6"})," ",i("Price: :price tokens",{price:t.price})]}),e("br",{}),r("p",{className:"mt-3 bg-white shadow text-gray-800 text-sm font-semibold inline-flex rounded-lg p-2",children:[" ",e(f,{className:"w-4 h-4"})," ",i("Your Balance: :userBalance tokens",{userBalance:o.user.tokens})]}),e("div",{className:"mt-5 border-t pt-5",children:t.price<=o.user.tokens?r(x,{children:[r("button",{onClick:a=>c(a),className:"py-2 px-3 mt-2 mb-3 inline-flex rounded-md items-center bg-pink-500 text-white font-semibold hover:bg-pink-600 disabled:bg-gray-300 disabled:text-gray-700",disabled:d,children:[e(n,{className:"h-6 w-6 mr-2"}),e("div",{children:i("Purchase Video")})]}),e("br",{}),d&&e("center",{children:e(k,{})})]}):r("div",{className:"text-gray-700 dark:text-white text-base",children:[i("You need to charge your token balance to be able to unlock this video"),e("br",{}),r(s,{href:route("token.packages"),className:"py-1.5 px-3 mt-2 inline-flex border-2 rounded-md hover:border-gray-700 hover:text-gray-700 items-center border-indigo-600 text-indigo-600 dark:border-white dark:text-white dark:hover:border-indigo-200 dark:hover:text-indigo-200",children:[e(n,{className:"h-6 w-6 mr-2"}),e("div",{children:i("Token Packages")})]})]})})]})]})})]})}export{H as default};
