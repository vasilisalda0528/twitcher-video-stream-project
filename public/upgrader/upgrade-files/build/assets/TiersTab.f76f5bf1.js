import{S as h}from"./Spinner.4065475d.js";import{_ as s}from"./Translate.dc83ae5b.js";import{r as a,a as r,F as f,j as t,f as k,d as l}from"./app.70eb7c5f.js";import{Q as S}from"./react-toastify.esm.b9d392e3.js";import{c as v}from"./index.esm.80e20a61.js";import{n as w}from"./index.9a52c726.js";import{a as y}from"./index.esm.b743b834.js";import{c as N}from"./index.esm.dc99be0f.js";import"./iconBase.19c775b5.js";function P({user:d}){const[g,o]=a.exports.useState(!0),[c,b]=a.exports.useState([]),[i,u]=a.exports.useState(0),x=()=>{l.get(route("streaming.getTiers",{user:d.id})).then(e=>{b(e.data),o(!1)}).catch(e=>{var n,m;return S.error((m=(n=e.response)==null?void 0:n.data)==null?void 0:m.message)})},p=()=>{o(!0),l.get(route("subscription.isSubscribed",{user:d.id})).then(e=>{o(!1),u(e.data)})};return a.exports.useEffect(()=>{x(),p()},[]),g?r(h,{}):r(f,{children:t("div",{className:"dark:text-zinc-200 mt-5",children:[c.length===0&&s("Streamer did not set any membership options yet."),c.map(e=>t("div",{className:`flex flex-col md:items-center md:flex-row md:space-x-10 border-b py-5 bg-white dark:bg-zinc-900 dark:border-b-zinc-800 rounded-lg shadow-sm mb-5 px-5  ${e.id===i&&"bg-gray-200 dark:bg-gray-900 rounded"} ${i!==0&&"px-2"}`,children:[r("div",{className:"text-indigo-800 dark:text-indigo-200 font-bold text-lg w-32",children:e.tier_name}),t("div",{className:"text-indigo-800  w-full md:w-56 dark:text-indigo-200  rounded font-bold",children:[r(y,{className:"h-6 w-6 inline-flex mr-1"}),s(":tierPrice Tokens / Month",{tierPrice:e.price})]}),r("div",{className:"text-gray-600 dark:text-white flex-grow",children:w(e.perks)}),t("div",{children:[i===e.id&&s("You are subscribed to this tier"),i===0&&r("button",{className:"py-1 h-8 w-32 text-sm px-3 mt-2 border-2 rounded-md border-gray-700 dark:border-gray-100 dark:text-gray-200 dark:hover:border-indigo-300 dark:hover:text-indigo-300 text-gray-700 hover:border-indigo-600 hover:text-indigo-600",onClick:n=>k.Inertia.visit(route("subscribe",{channel:d.username,tier:e.id})),children:t("div",{className:"flex items-center",children:[r(v,{className:"mr-2"}),r("span",{children:s("Subscribe")}),r(N,{className:"ml-1"})]})})]})]},`tier-${e.id}`))]})})}export{P as default};
